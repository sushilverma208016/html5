<html>
    <body>

        <video width="400" controls id="video">
            <source src="mov_bbb.mp4" type="video/mp4">
            <source src="mov_bbb.ogg" type="video/ogg">
            Your browser does not support HTML5 video.
        </video>

        <br/>

        <canvas id="output" width="480" height="300" style="background-color:yellow">
        </canvas>

    </body>
</html>

<script>
    let ctx = document.querySelector("#output")
                      .getContext("2d") ;

    let video = document.querySelector("#video");
    //video.addEventListener("mousedown", onMouseDown, false);
    
    onMouseDown();
    
    var my_gradient=ctx.createLinearGradient(0,0,0,170);
    my_gradient.addColorStop(0,"red");
    my_gradient.addColorStop(0.25,"white");
    my_gradient.addColorStop(0.5,"green");
    my_gradient.addColorStop(0.75,"orange");
    my_gradient.addColorStop(1,"yellow");

    function onMouseDown() {
        ctx.fillStyle = ctx.createPattern(video, "no-repeat"); // my_gradient ; // "red"; 
        ctx.fillRect(0, 0, 480, 300);
        window.requestAnimationFrame(onMouseDown);
    }
</script>